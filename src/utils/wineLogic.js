// ==========================================
// 1. ãƒ¯ã‚¤ãƒ³ã‚¿ã‚¤ãƒ—å®šç¾©
// ==========================================
export const WINE_TYPES = [
    { id: 'Red', label: 'èµ¤ãƒ¯ã‚¤ãƒ³', color: 'bg-red-100 text-red-800 border-red-200', desc: 'æ¸‹ã¿ã¨ã‚³ã‚¯ã€‚è‚‰æ–™ç†ã‚„ãƒãƒ¼ã‚ºã¨å¥½ç›¸æ€§ã€‚' },
    { id: 'White', label: 'ç™½ãƒ¯ã‚¤ãƒ³', color: 'bg-yellow-50 text-yellow-800 border-yellow-200', desc: 'é…¸å‘³ã¨æœå®Ÿå‘³ã€‚é­šä»‹ã‚„é‡èœæ–™ç†ã«ã€‚' },
    { id: 'Sparkling', label: 'ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒªãƒ³ã‚°', color: 'bg-sky-100 text-sky-800 border-sky-200', desc: 'æ³¡ã®åˆºæ¿€ã€‚ä¹¾æ¯ã‚„æšã’ç‰©ã«ã€‚' },
    { id: 'Rose', label: 'ãƒ­ã‚¼', color: 'bg-pink-100 text-pink-800 border-pink-200', desc: 'ä¸‡èƒ½é¸æ‰‹ã€‚ä¸­è¯ã‚„ã‚¨ã‚¹ãƒ‹ãƒƒã‚¯ã«ã‚‚ã€‚' },
    { id: 'Orange', label: 'ã‚ªãƒ¬ãƒ³ã‚¸', color: 'bg-orange-100 text-orange-800 border-orange-200', desc: 'ç™½è‘¡è„ã‚’èµ¤ã®è£½æ³•ã§ã€‚è¤‡é›‘å‘³ã¨æ¸‹ã¿ã€‚' },
  ];
  
  // ==========================================
  // 2. ãƒšã‚¢ãƒªãƒ³ã‚°ææ¡ˆãƒ­ã‚¸ãƒƒã‚¯ (ãƒ¯ã‚¤ãƒ³ç‰ˆ)
  // ==========================================
  export const getWinePairing = (item) => {
    const roles = [];
    
    // ã‚¿ã‚¤ãƒ—ã”ã¨ã®åŸºæœ¬ææ¡ˆ
    switch (item.type) {
      case 'Red':
        roles.push({ approach: 'ğŸ¥© è‚‰ãƒ»è„‚', target: 'ã‚¹ãƒ†ãƒ¼ã‚­ã€ã‚¸ãƒ“ã‚¨ã€ãƒãƒ¼ãƒ‰ãƒãƒ¼ã‚º', reason: 'ã‚¿ãƒ³ãƒ‹ãƒ³ï¼ˆæ¸‹ã¿ï¼‰ãŒè‚‰ã®è„‚ã‚’ä¸­å’Œã—ã€æ—¨å‘³ã‚’å¼•ãç«‹ã¦ã¾ã™ã€‚' });
        if (item.sales_talk?.includes('ãƒ•ãƒ«ãƒœãƒ‡ã‚£')) {
          roles.push({ approach: 'ğŸ· é‡åšãªã‚½ãƒ¼ã‚¹', target: 'ãƒ‡ãƒŸã‚°ãƒ©ã‚¹ã‚½ãƒ¼ã‚¹ã€ç…®è¾¼ã¿', reason: 'æ¿ƒåšãªå‘³ä»˜ã‘ã«è² ã‘ãªã„ãƒœãƒ‡ã‚£ãŒã‚ã‚Šã¾ã™ã€‚' });
        }
        break;
      case 'White':
        roles.push({ approach: 'ğŸŸ é­šãƒ»æŸ‘æ©˜', target: 'ã‚«ãƒ«ãƒ‘ãƒƒãƒãƒ§ã€ç„¼ãé­šã€å¤©ã·ã‚‰', reason: 'é…¸å‘³ãŒãƒ¬ãƒ¢ãƒ³ã®ã‚ˆã†ã«æ©Ÿèƒ½ã—ã€é­šä»‹ã®ç”Ÿè‡­ã•ã‚’æ¶ˆã—ã¦çˆ½ã‚„ã‹ã«ã—ã¾ã™ã€‚' });
        roles.push({ approach: 'ğŸ¥— é‡èœãƒ»ãƒãƒ¼ãƒ–', target: 'ã‚µãƒ©ãƒ€ã€é¶è‚‰ã®é¦™è‰ç„¼ã', reason: 'ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªæœå®Ÿå‘³ãŒé‡èœã®ç”˜ã¿ã¨èª¿å’Œã—ã¾ã™ã€‚' });
        break;
      case 'Sparkling':
        roles.push({ approach: 'ğŸ¥‚ ä¹¾æ¯ãƒ»ãƒ•ãƒ©ã‚¤', target: 'å”æšã’ã€ãƒ•ãƒ©ã‚¤ãƒ‰ãƒãƒ†ãƒˆ', reason: 'ç‚­é…¸ã®åˆºæ¿€ãŒæšã’ç‰©ã®æ²¹ã‚’ã‚¹ãƒƒã‚­ãƒªã¨æ´—ã„æµã—ã¾ã™ã€‚' });
        break;
      case 'Rose':
        roles.push({ approach: 'ğŸ¥˜ ä¸‡èƒ½ãƒ»ã‚¹ãƒ‘ã‚¤ã‚¹', target: 'ä¸­è¯æ–™ç†ã€ç”Ÿãƒãƒ ã€ãƒˆãƒãƒˆã‚½ãƒ¼ã‚¹', reason: 'èµ¤ã®ã‚³ã‚¯ã¨ç™½ã®é…¸å‘³ã‚’ä½µã›æŒã¡ã€å¹…åºƒã„æ–™ç†ã«å¯„ã‚Šæ·»ã„ã¾ã™ã€‚' });
        break;
      case 'Orange':
        roles.push({ approach: 'ğŸ‚ è¤‡é›‘å‘³ãƒ»ç™ºé…µ', target: 'å‘³å™Œæ¼¬ã‘ã€ã‚¹ãƒ‘ã‚¤ã‚¹ã‚«ãƒ¬ãƒ¼ã€ãƒ¬ãƒãƒ¼', reason: 'ç‹¬ç‰¹ã®æ¸‹ã¿ã¨é¦™ã‚ŠãŒã€ã‚¯ã‚»ã®ã‚ã‚‹é£Ÿæã‚„ã‚¹ãƒ‘ã‚¤ã‚·ãƒ¼ãªæ–™ç†ã¨ãƒãƒƒãƒã—ã¾ã™ã€‚' });
        break;
      default: break;
    }
  
    // å“ç¨®ã«ã‚ˆã‚‹è¿½åŠ ææ¡ˆï¼ˆç°¡æ˜“ç‰ˆï¼‰
    const grape = (item.grape || '').toLowerCase();
    if (grape.includes('ãƒ”ãƒ') || grape.includes('pinot')) {
      roles.push({ approach: 'ğŸ¦† ç¹Šç´°ãªè‚‰', target: 'é´¨è‚‰ã€ãƒ­ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¼ãƒ•', reason: 'ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªé…¸ã¨é¦™ã‚ŠãŒã€ç¹Šç´°ãªè‚‰ã®æ—¨å‘³ã‚’å£Šã•ãšå¼•ãç«‹ã¦ã¾ã™ã€‚' });
    }
    if (grape.includes('ã‚·ãƒ£ãƒ«ãƒ‰ãƒ') || grape.includes('chardonnay')) {
      roles.push({ approach: 'ğŸ§ˆ ãƒã‚¿ãƒ¼ãƒ»ã‚¯ãƒªãƒ¼ãƒ ', target: 'ã‚¯ãƒªãƒ¼ãƒ ã‚·ãƒãƒ¥ãƒ¼ã€ã‚°ãƒ©ã‚¿ãƒ³', reason: 'ã‚³ã‚¯ã®ã‚ã‚‹æœå®Ÿå‘³ãŒã€ä¹³è£½å“ã®ã¾ã‚ã‚„ã‹ã•ã¨åŒèª¿ã—ã¾ã™ã€‚' });
    }
  
    return roles;
  };
  
  // ==========================================
  // 3. æ—¥å ±ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ (ãƒ¯ã‚¤ãƒ³ç‰ˆ)
  // ==========================================
  export const generateDailyWineReport = (items) => {
    const today = new Date().toLocaleDateString('ja-JP');
    let report = `ã€Wineåœ¨åº«æ—¥å ±ã€‘ ${today}\n----------------------------\n`;
    
    items.forEach(item => {
      if ((item.stock_bottles || 0) > 0) {
        report += `${item.name} (${item.vintage || 'NV'}): ${item.stock_bottles}æœ¬\n`;
      }
    });
    
    const total = items.reduce((sum, i) => sum + (i.stock_bottles || 0), 0);
    report += `----------------------------\n`;
    report += `Total: ${total}æœ¬\n`;
    report += `ä½œæˆ: Setsu-Phone System`;
    
    return report;
  };

